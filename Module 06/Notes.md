# Dynamic Content & Templates
Dynamic content refers to that kind of html content that changes.

# Templating engines
![Templating engines](/img/template_engines.png)
* HTMLish templeate: HTML structure, and its css and asociated JS
* Node / Express content
* Templeates Engine: Understand HTML and replaces placehodlers/snippets with HTML content
* It generate a common HTML file
* Available Templating Engines:
    * EJS: Use normal HTML and plain JS in your templates
    * Pug (Jade): Use minimal HTML and custom template language
    * Handlebars: Use normal HTML and custom template language

## Installing templating engines
* EJS: ```npm install --save ejs```
* Pug:  ```npm install --save pug```
* Handlebars: ```npm install --save express-handlebars```
The 3 of them: ```npm install --save ejs pug express-handlebars```

## Express set function
* Allow us to connfigure some app properties that allow express to behave in an specific way
* Documentantion [here](https://expressjs.com/es/api.html#app.settings.table)
* Example specifing an templeate engine
```javascript
const app=express()
const template_engine="pug"
app.set('view engine', template_engine)
```

## Pug
* Documentantion [here](https://pugjs.org/)
* To send the html generated by a pug file we need to use the express method for response object *render(pug_file_name)*. This goes to the view folder and look for pug extension file with the specified pug_file_name
* To render a pug file we must use the render function for a response object. Example:
```javascript
router.get("/",(req, res, next) =>{
    const JSON_extra_data= {extra_data_1: ex1, extra_data_2: ex2}
    res.render('shop',JSON_extra_data)
})

```
* Inheritance is permited. This allow us to create a base template and add more features
    * First you create a basic template, and you name block where you can add content. Example:
    ```pug
        body
            main
                block content
    ```
    And the in a son you can import the layout by its file name
    ```pug
        extends layout-folder/layout-file-name.pug
        block content
            p Hello World!
    ```
* Conditional class name can be used in parentesis, where the attributes given by parameters can be specified just buy its name

## Handlebars
* Documentation [here](https://handlebarsjs.com/)
* It needs to be imported
```javascript
const layoutsDir= 'layout_folder' //If it is differente to views/layouts/
const defaultLayout= 'default-layout'
const expressHbs = require('express-handlebars')
app.engine('hbs', expressHbs( {
    extname: 'hbs',
    layoutDir: layoutsDir,
    defaultLayout: defaultLayout
})) //To assign a name to handlebars engine in the current code
app.set('view engine', 'handlebars')
```
* To add html from other file to the default layout, in this other file we only need to put the html we are going to add, and put *{{{body}}}* in the layout html where we want to add the content
